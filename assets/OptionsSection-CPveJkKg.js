import{u as g,r as p,j as o}from"./iframe-BXIlaz2d.js";import{B as u}from"./Button-81gYiLei.js";import"./FieldLabel-BpkJpxf0.js";import"./TabBar-DCQpbWtV.js";import"./Tooltip-D0PmNOGd.js";import"./GNB-Cei53FoB.js";import"./CalendarSelect-D0mqBlXL.js";import"./Chip-DzV2jjrU.js";import{O as x}from"./OptionGroup-BoJmsQxc.js";import"./SearchInput-GBiqzGf9.js";import"./NavigationTabs-CuxIs8pF.js";const y=()=>{const m=g(),[a,l]=p.useState(!1),r=[{id:"bodyType",label:"체형",options:["마른","보통","통통한"]},{id:"armLength",label:"팔길이",options:["짧은","보통","긴"]},{id:"legLength",label:"다리길이",options:["짧은","보통","긴"]},{id:"neckLength",label:"목길이",options:["짧은","보통","긴"]},{id:"faceShape",label:"얼굴형",options:["달걀","넓은","각진","긴"]}],[t,d]=p.useState({}),h=(e,s)=>{d(n=>({...n,[e]:s}))},c=r.every(e=>t[e.id]),i=e=>({마른:"thin",통통한:"heavy",짧은:"short",보통:"medium",긴:"long",달걀:"oval",넓은:"round",각진:"square"})[e]||e,f=async()=>{if(c){l(!0);try{const e={...t.bodyType&&{body_type:i(t.bodyType)},arm_length:i(t.armLength),face_shape:i(t.faceShape),leg_length:i(t.legLength),neck_length:i(t.neckLength),num_recommendations:3},s=await fetch("/api/recommend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to get recommendations");const n=await s.json();sessionStorage.setItem("recommendResult",JSON.stringify(n.data)),m.push("/recommend/result")}catch(e){console.error("Failed to get recommendations:",e),alert("추천을 받는 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{l(!1)}}};return o.jsxs("section",{className:"flex flex-col items-start gap-8 px-4 py-8 relative self-stretch w-full flex-[0_0_auto] bg-white",children:[o.jsxs("div",{className:"flex flex-col items-start gap-12 relative self-stretch w-full flex-[0_0_auto]",children:[o.jsxs("h1",{className:"relative self-stretch title-1 font-[number:var(--title-1-font-weight)] text-on-surface text-[length:var(--title-1-font-size)] tracking-[var(--title-1-letter-spacing)] leading-[var(--title-1-line-height)] [font-style:var(--title-1-font-style)] text-left",children:["드레스 추천을 위해 ",o.jsx("br",{}),"아래 옵션을 선택해주세요!"]}),o.jsx("div",{className:"flex flex-col items-start gap-10 relative self-stretch w-full flex-[0_0_auto]",children:r.map(e=>o.jsx(x,{label:e.label,options:e.options,selectedOption:t[e.id],onOptionSelect:s=>h(e.id,s),variant:"pill",className:"self-stretch"},e.id))})]}),o.jsx(u,{disabled:!c||a,className:"self-stretch",variant:"primary",onClick:f,children:a?"추천 받는 중...":"완료"})]})};y.__docgenInfo={description:"",methods:[],displayName:"OptionsSection"};export{y as O};
